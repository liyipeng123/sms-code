!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";var t=(e.prototype.setOptions=function(t){t.age&&0<t.age&&(this.maxAge=t.age),t.length&&0<t.length&&(this.codeLength=t.length)},e.prototype.getCode=function(t){var e=this;t=t.toString();var o=this.random(this.codeLength);return this.store[t]=o,setTimeout(function(){delete e.store[t]},60*this.maxAge*1e3),o},e.prototype.verifyCode=function(t,e){return e=e.toString(),t=t.toString(),!(!this.store[t]||this.store[t]!==e||(delete this.store[t],0))},e.prototype.random=function(t){void 0===t&&(t=4);var e="",o="";for(e+=this.numbers;0<t;)t--,o+=e[Math.floor(Math.random()*e.length)];return o},e);function e(t,e){void 0===t&&(t=5),void 0===e&&(e=4),this.numbers="0123456789",this.store={},this.maxAge=t,this.codeLength=e}module.exports=t});
