!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).index=e()}(this,function(){"use strict";function t(t,e){void 0===t&&(t=5),void 0===e&&(e=4),this.numbers="0123456789",this.store={},this.maxAge=t,this.codeLength=e}return t.prototype.setOptions=function(t){t.age&&0<t.age&&(this.maxAge=t.age),t.length&&0<t.length&&(this.codeLength=t.length)},t.prototype.getCode=function(t){var e=this;t=String(t);var o=this.random(this.codeLength);return this.store[t]=o,setTimeout(function(){delete e.store[t]},60*this.maxAge*1e3),o},t.prototype.verifyCode=function(t,e){return e=String(e),t=String(t),!(!this.store[t]||this.store[t]!==e||(delete this.store[t],0))},t.prototype.random=function(t){void 0===t&&(t=4);var e="",o="";for(e+=this.numbers;0<t;)t--,o+=e[Math.floor(Math.random()*e.length)];return o},new t(5,4)});
